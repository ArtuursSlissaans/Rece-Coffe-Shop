<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Coffe Shop Rece</title>
    <!-- Link To CSS -->
    <link rel="stylesheet" href="css/Shopping.css" />
    <script src="js/shoppingCart.js"></script>
    <!-- BoxIcons -->
    <link
      href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
      rel="stylesheet"
    />
    <!-- Fav Icon -->
    <link rel="shortcut icon" href="img/fav-icon.png" type="image/x-icon" />
    <!-- Link Swiper's CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css"
    />
  </head>
  <body>
    <script src="js/shoppingCart.js"></script>
    <!-- Header -->
    <header>
      <!-- Nav -->
      <div class="nav">
        <!-- Logo -->
        <a href="index.html" class="logo"> Rece <span>CoffeShop</span> </a>
        <!-- Nav Links -->
        <div class="navbar">
          <li><a href="Product_Index.html" class="nav-link">Back to Products</a></li>
        </div>
        <!-- Menu Icon -->
        <div class="menu-icon">
          <div class="line1"></div>
          <div class="line2"></div>
          <div class="line3"></div>
        </div>
      </div>
    </header>
    <!-- Home -->
    <section class="prices" id="prices">
        <div class="prices-text container">
            <h2 class="prices-title">Shopping Cart</h2>
            <p class="prices-description">Here you can see your shopping cart and all your products in them!
            </p>
        </div>
    </section>
   <!--Experiments shoping cart--> 
    <body>
        <div class="cart-container">
            <div class="cart-items"></div>
        
        <script src="https://unpkg.com/cart-localstorage@1.1.4/dist/cart-localstorage.min.js" type="text/javascript"></script>
            <div class="card mb-4 shadow-sm">
                <div class="card-header">
                    <h2>Cart</h2>
                </div>
                <div class="card-body">
                    <table class="table">
                        <tbody class="cart">
                        </tbody>
                        <tfoot>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td class="text-right">Total: <strong class="total"></strong></td>
                            <td></td>
                        </tfoot>
                    </table>
                </div>
            </div>
        </div>
        <script>
            function renderCart(items) {
                const $cart = document.querySelector(".cart")
                const $total = document.querySelector(".total")
    
                $cart.innerHTML = items.map((item) => `
                        <tr>
                            <td>#${item.id}</td>
                            <td>${item.name}</td>
                            <td>${item.quantity}</td>
                            <td style="width: 60px;">	
                                <button type="button" class="btn btn-block btn-sm btn-outline-primary"
                                    onClick="cartLS.quantity(${item.id},1)">+</button>
                            </td>
                            <td style="width: 60px;">	
                                <button type="button" class="btn btn-block btn-sm btn-outline-primary"
                                    onClick="cartLS.quantity(${item.id},-1)">-</button>
                            </td>
                            <td class="text-right">$${item.price}</td>
                            <td class="text-right"><Button class="btn btn-primary" onClick="cartLS.remove(${item.id})">Delete</Button></td>
                        </tr>`).join("")
    
                $total.innerHTML = "$" + cartLS.total()
            }
            renderCart(cartLS.list())
            cartLS.onChange(renderCart)
        </script>
    </body>


    </section>
    
    <!-- Footer -->

    <!-- Swiper JS -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
    <!-- Link To JS -->
    <script src="js/shoppingCart.js"></script>
    <script src="js/main.js"></script>
  </body>
</html>
